{"mappings":"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","sources":["<anon>","script.js"],"sourcesContent":["var $c1ce9d969bfa6909$exports = {};\n\"use strict\";\nclass $c1ce9d969bfa6909$var$Workout {\n    date = new Date();\n    id = (Date.now() + \"\").slice(-10);\n    constructor(coords, distance, duration){\n        this.coords = coords; // [lat, lng]\n        this.distance = distance; // in km\n        this.duration = duration; // in min\n    }\n    _setDescription(type) {\n        // prettier-ignore\n        const months = [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\"\n        ];\n        this.description = `${type === \"running\" ? \"\\uD83C\\uDFC3\\u200D\\u2642\\uFE0F\" : \"\\uD83D\\uDEB4\\u200D\\u2640\\uFE0F\"} ${type[0].toUpperCase()}${type.slice(1)} on ${months[this.date.getMonth()]} ${this.date.getDate()}`;\n    }\n}\nclass $c1ce9d969bfa6909$var$Running extends $c1ce9d969bfa6909$var$Workout {\n    type = \"running\";\n    constructor(coords, distance, duration, cadence){\n        super(coords, distance, duration);\n        this.cadence = cadence;\n        this.calcPace();\n        this._setDescription(this.type);\n    }\n    calcPace() {\n        // min/km\n        this.pace = this.duration / this.distance;\n        return this.pace;\n    }\n}\nclass $c1ce9d969bfa6909$var$Cycling extends $c1ce9d969bfa6909$var$Workout {\n    type = \"cycling\";\n    constructor(coords, distance, duration, elevationGain){\n        super(coords, distance, duration);\n        this.elevationGain = elevationGain;\n        this.calcSpeed();\n        this._setDescription(this.type);\n    }\n    calcSpeed() {\n        // km/h\n        this.speed = this.distance / (this.duration / 60);\n        return this.speed;\n    }\n}\n////////////////////////////////////////////////////////////\nconst $c1ce9d969bfa6909$var$form = document.querySelector(\".form\");\nconst $c1ce9d969bfa6909$var$containerWorkouts = document.querySelector(\".workouts\");\nconst $c1ce9d969bfa6909$var$formInputs = document.querySelectorAll(\".form__input\");\nconst $c1ce9d969bfa6909$var$inputType = document.querySelector(\".form__input--type\");\nconst $c1ce9d969bfa6909$var$inputDistance = document.querySelector(\".form__input--distance\");\nconst $c1ce9d969bfa6909$var$inputDuration = document.querySelector(\".form__input--duration\");\nconst $c1ce9d969bfa6909$var$inputCadence = document.querySelector(\".form__input--cadence\");\nconst $c1ce9d969bfa6909$var$inputElevation = document.querySelector(\".form__input--elevation\");\nconst $c1ce9d969bfa6909$var$workoutsList = document.querySelector(\".workouts__list\");\nconst $c1ce9d969bfa6909$var$clearAll = document.querySelector(\".clear__all\");\n// const editBtn = document.querySelector('.edit__btn');\n// CHECKPOINT:\n// APPLICATION ARHITECTURE\nclass $c1ce9d969bfa6909$var$App {\n    #data;\n    #map;\n    #mapEvent;\n    #mapZoomLevel = 13;\n    #workouts = [];\n    #markers = [];\n    #htmlContent = [];\n    #isEditing = false;\n    #index;\n    constructor(){\n        this._getLocalStorage();\n        this._getPosition();\n        this._showClearAll();\n        $c1ce9d969bfa6909$var$form.addEventListener(\"submit\", this._creatingNewWorkout.bind(this));\n        $c1ce9d969bfa6909$var$inputType.addEventListener(\"change\", this._toggleElevationField);\n        $c1ce9d969bfa6909$var$containerWorkouts.addEventListener(\"click\", this._moveToMap.bind(this));\n        $c1ce9d969bfa6909$var$workoutsList.addEventListener(\"click\", this._deleteWorkout.bind(this));\n        $c1ce9d969bfa6909$var$workoutsList.addEventListener(\"click\", this._editWorkout.bind(this));\n        $c1ce9d969bfa6909$var$clearAll.addEventListener(\"click\", this._clearWorkouts.bind(this));\n        this._indexDelegation();\n    // document.querySelector('.show__all').addEventListener('click', this._showAllMarkers.bind(this));\n    }\n    // CHECKPOINT:\n    _getPosition() {\n        if (navigator.geolocation) navigator.geolocation.getCurrentPosition(this._loadMap.bind(this), function() {\n            alert(\"Cannot acces your position!\");\n        });\n    }\n    _indexDelegation() {\n        $c1ce9d969bfa6909$var$workoutsList.querySelectorAll(\".edit__btn\").forEach((btn, i)=>btn.addEventListener(\"click\", (function() {\n                // invert index\n                this.#index = Math.abs(i - (this.#htmlContent.length - 1));\n            }).bind(this)));\n    }\n    _loadMap(position) {\n        const { latitude: latitude, longitude: longitude } = position.coords;\n        const coords = [\n            latitude,\n            longitude\n        ];\n        // Leaflet library\n        this.#map = L.map(\"map\").setView(coords, 13);\n        L.tileLayer(\"https://tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\", {\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(this.#map);\n        this.#map.on(\"click\", this._showForm.bind(this));\n        this.#map.on(\"click\", this._toggleEditing.bind(this, false));\n        this.#map.on(\"click\", this._clearAllSelected);\n        this.#workouts.forEach((work)=>this._renderWorkoutMarker(work));\n    }\n    // _showAllMarkers() {\n    //   const bounds = new L.LatLngBounds();\n    //   bounds.extend(this.#markers.getLatLng());\n    //   this.#map.fitBounds(bounds);\n    // }\n    _showForm(mapE) {\n        this.#mapEvent = mapE;\n        $c1ce9d969bfa6909$var$form.classList.remove(\"hidden\");\n        $c1ce9d969bfa6909$var$inputDistance.focus();\n    }\n    _hideForm() {\n        $c1ce9d969bfa6909$var$form.style.display = \"none\";\n        $c1ce9d969bfa6909$var$form.classList.add(\"hidden\");\n        $c1ce9d969bfa6909$var$inputDistance.value = $c1ce9d969bfa6909$var$inputDuration.value = $c1ce9d969bfa6909$var$inputCadence.value = $c1ce9d969bfa6909$var$inputElevation.value = \"\";\n        setTimeout(()=>$c1ce9d969bfa6909$var$form.style.display = \"grid\", 1000);\n    }\n    // Switching from running to cycling\n    _toggleElevationField() {\n        $c1ce9d969bfa6909$var$inputCadence.closest(\".form__row\").classList.toggle(\"form__row--hidden\");\n        $c1ce9d969bfa6909$var$inputElevation.closest(\".form__row\").classList.toggle(\"form__row--hidden\");\n    }\n    _clearAllSelected() {\n        document.querySelectorAll(\".workout\").forEach((work)=>{\n            work.classList.remove(\"editing__active\");\n            work.classList.remove(\"selected__active\");\n        });\n        $c1ce9d969bfa6909$var$inputType.value = \"running\";\n        $c1ce9d969bfa6909$var$inputDistance.value = $c1ce9d969bfa6909$var$inputDuration.value = $c1ce9d969bfa6909$var$inputCadence.value = $c1ce9d969bfa6909$var$inputElevation.value = \"\";\n        $c1ce9d969bfa6909$var$inputCadence.closest(\".form__row\").classList.remove(\"form__row--hidden\");\n        $c1ce9d969bfa6909$var$inputElevation.closest(\".form__row\").classList.add(\"form__row--hidden\");\n    }\n    _toggleEditing(bool) {\n        this.#isEditing = bool;\n        $c1ce9d969bfa6909$var$inputType.disabled = bool;\n    }\n    _creatingNewWorkout(e) {\n        e.preventDefault();\n        if (!this.#isEditing) this._newWorkout();\n        else this._editSubmit();\n    }\n    _newWorkout() {\n        // Check for form activity\n        if ($c1ce9d969bfa6909$var$form.classList.contains(\"hidden\")) return;\n        const isInputValid = (...inputs)=>inputs.every((inp)=>Number.isFinite(inp));\n        const isPositive = (...inputs)=>inputs.every((inp)=>inp >= 1);\n        // Get data from input\n        const type = $c1ce9d969bfa6909$var$inputType.value;\n        const distance = +$c1ce9d969bfa6909$var$inputDistance.value;\n        const duration = +$c1ce9d969bfa6909$var$inputDuration.value;\n        const { lat: lat, lng: lng } = this.#mapEvent.latlng;\n        let workout;\n        // If type running, create running object\n        if (type === \"running\") {\n            const cadence = +$c1ce9d969bfa6909$var$inputCadence.value;\n            // Check is data is valid\n            if (!isInputValid(distance, duration, cadence) || !isPositive(distance, duration, cadence)) return alert(\"Data needs to be positive numbers!\");\n            workout = new $c1ce9d969bfa6909$var$Running([\n                lat,\n                lng\n            ], distance, duration, cadence);\n        }\n        // If type cycling, create cyclying object\n        if (type === \"cycling\") {\n            const elevation = +$c1ce9d969bfa6909$var$inputElevation.value;\n            // Check is data is valid\n            if (!isInputValid(distance, duration, elevation) || !isPositive(distance, duration)) return alert(\"Data needs to be positive numbers!\");\n            workout = new $c1ce9d969bfa6909$var$Cycling([\n                lat,\n                lng\n            ], distance, duration, elevation);\n        }\n        // Push workout to workouts array\n        this.#workouts.push(workout);\n        // Display marker on map\n        this._renderWorkoutMarker(workout);\n        // Display workout on list\n        this._renderWorkout(workout);\n        // Check for clear all\n        this._showClearAll();\n        // Data local storage\n        this._setLocalStorage();\n        // Clear form + input fields\n        this._hideForm();\n        console.log(this.#workouts);\n    }\n    // Show workout marker on map\n    _renderWorkoutMarker(workout) {\n        let mark = L.marker(workout.coords).addTo(this.#map).bindPopup(L.popup({\n            maxWidth: 250,\n            minWidth: 100,\n            autoClose: false,\n            closeOnClick: false,\n            className: `${workout.type}-popup`\n        })).setPopupContent(workout.description).openPopup();\n        this.#markers.push(mark);\n    }\n    // Show workout on list after completing form\n    _renderWorkout(workout) {\n        let html = `\n    <li class=\"workout workout--${workout.type}\" data-id=\"${workout.id}\">\n    <span class=\"close__btn\">&times;</span>\n    <span class=\"edit__btn\">&#9998;</span>\n      <h2 class=\"workout__title\">${workout.description}</h2>\n        <div class=\"workout__details\">\n        \n          <span class=\"workout__icon\">${workout.type === \"running\" ? \"\\uD83C\\uDFC3\\u200D\\u2642\\uFE0F\" : \"\\uD83D\\uDEB4\\u200D\\u2640\\uFE0F\"}</span>\n          <span class=\"workout__value distance__value\">${workout.distance}</span>\n          <span class=\"workout__unit\">km</span>\n          \n        </div>\n        <div class=\"workout__details\">\n          <span class=\"workout__icon\">\\u{23F1}</span>\n          <span class=\"workout__value duration__value\">${workout.duration}</span>\n          <span class=\"workout__unit\">min</span>\n        </div>\n          `;\n        if (workout.type === \"running\") html += `\n      <div class=\"workout__details\">\n        <span class=\"workout__icon\">\\u{1F9B6}\\u{1F3FC}</span>\n        <span class=\"workout__value cadence__value\">${workout.cadence}</span>\n        <span class=\"workout__unit\">spm</span>\n      </div>\n      <div class=\"workout__details\">\n        <span class=\"workout__icon\">\\u{26A1}\\u{FE0F}</span>\n        <span class=\"workout__value pace__value\">${Math.trunc(workout.pace)}</span>\n        <span class=\"workout__unit\">min/km</span>\n      </div>\n    </li>\n      `;\n        if (workout.type === \"cycling\") html += `\n      <div class=\"workout__details\">\n        <span class=\"workout__icon\">\\u{26F0}</span>\n        <span class=\"workout__value elevationGain__value\">${workout.elevationGain}</span>\n        <span class=\"workout__unit\">m</span>\n      </div>\n      <div class=\"workout__details\">\n        <span class=\"workout__icon\">\\u{26A1}\\u{FE0F}</span>\n        <span class=\"workout__value speed__value\">${Math.trunc(workout.speed)}</span>\n        <span class=\"workout__unit\">km/h</span>\n      </div>\n        \n    </li>\n      `;\n        this.#htmlContent.push(html);\n        $c1ce9d969bfa6909$var$workoutsList.insertAdjacentHTML(\"afterbegin\", html);\n        this._indexDelegation();\n    }\n    // Move to map marker when clicking workout from list\n    _moveToMap(e) {\n        const workoutEl = e.target.closest(\".workout\");\n        // guard clause\n        if (!workoutEl || e.target.closest(\".edit__btn\")) return;\n        const workout = this.#workouts.find((work)=>work.id === workoutEl.dataset.id);\n        if (!workout) return;\n        this.#map.setView(workout.coords, this.#mapZoomLevel, {\n            animate: true,\n            pan: {\n                duration: 1\n            }\n        });\n        // Clear form + input fields\n        this._hideForm();\n        // clear all workouts in editing and selected mode\n        this._clearAllSelected();\n        workoutEl.classList.add(\"selected__active\");\n    }\n    // Delete workout by 'x' button\n    _deleteWorkout(e) {\n        const workoutEl = e.target.closest(\".close__btn\");\n        if (!workoutEl) return;\n        const workout = this.#workouts.find((work)=>work.id === workoutEl.closest(\".workout\").dataset.id);\n        if (!workout) return;\n        const index = this.#workouts.findIndex((work)=>work.id === workout.id);\n        // remove workout from list\n        this.#workouts.splice(index, 1);\n        this.#htmlContent.splice(index, 1);\n        $c1ce9d969bfa6909$var$workoutsList.innerHTML = \"\";\n        this.#htmlContent.slice().forEach((html)=>{\n            $c1ce9d969bfa6909$var$workoutsList.insertAdjacentHTML(\"afterbegin\", html);\n        });\n        // remove marker from map and array\n        this.#map.removeLayer(this.#markers[index]);\n        this.#markers.splice(index, 1);\n        // Check for clear all\n        this._showClearAll();\n        // hide from\n        this._hideForm();\n        this._indexDelegation();\n        // remove from local storage\n        this._setLocalStorage();\n    }\n    // Edit existing workout on list\n    _editWorkout(e) {\n        const editEl = e.target.closest(\".edit__btn\");\n        if (!editEl) return;\n        // clear all workouts in editing mode\n        this._clearAllSelected();\n        const workout = e.target.closest(\".workout\");\n        workout.classList.add(\"editing__active\");\n        this._showForm();\n        this._toggleEditing(true);\n        const content = this.#htmlContent[this.#index];\n        const parse = new DOMParser();\n        const html = parse.parseFromString(content, \"text/html\").querySelector(\".workout\");\n        if (html.classList.contains(\"workout--running\")) {\n            $c1ce9d969bfa6909$var$inputType.value = \"running\";\n            $c1ce9d969bfa6909$var$inputDistance.value = this.#workouts[this.#index].distance;\n            $c1ce9d969bfa6909$var$inputDuration.value = this.#workouts[this.#index].duration;\n            $c1ce9d969bfa6909$var$inputCadence.value = this.#workouts[this.#index].cadence;\n            $c1ce9d969bfa6909$var$inputCadence.closest(\".form__row\").classList.remove(\"form__row--hidden\");\n            $c1ce9d969bfa6909$var$inputElevation.closest(\".form__row\").classList.add(\"form__row--hidden\");\n        } else {\n            $c1ce9d969bfa6909$var$inputType.value = \"cycling\";\n            $c1ce9d969bfa6909$var$inputDistance.value = this.#workouts[this.#index].distance;\n            $c1ce9d969bfa6909$var$inputDuration.value = this.#workouts[this.#index].duration;\n            $c1ce9d969bfa6909$var$inputElevation.value = this.#workouts[this.#index].elevationGain;\n            $c1ce9d969bfa6909$var$inputCadence.closest(\".form__row\").classList.add(\"form__row--hidden\");\n            $c1ce9d969bfa6909$var$inputElevation.closest(\".form__row\").classList.remove(\"form__row--hidden\");\n        }\n    }\n    _editSubmit() {\n        const content = this.#htmlContent[this.#index];\n        const work = this.#workouts[this.#index];\n        // Convert text to html, for accesing data by class\n        const parse = new DOMParser();\n        const html = parse.parseFromString(content, \"text/html\").querySelector(\".workout\");\n        const isInputValid = (...inputs)=>inputs.every((inp)=>Number.isFinite(inp));\n        const isPositive = (...inputs)=>inputs.every((inp)=>inp >= 1);\n        html.querySelector(\".distance__value\").textContent = $c1ce9d969bfa6909$var$inputDistance.value;\n        html.querySelector(\".duration__value\").textContent = $c1ce9d969bfa6909$var$inputDuration.value;\n        if (html.classList.contains(\"workout--running\")) {\n            if (!isInputValid(+$c1ce9d969bfa6909$var$inputDistance.value, +$c1ce9d969bfa6909$var$inputDuration.value, +$c1ce9d969bfa6909$var$inputCadence.value) || !isPositive(+$c1ce9d969bfa6909$var$inputDistance.value, +$c1ce9d969bfa6909$var$inputDuration.value, +$c1ce9d969bfa6909$var$inputCadence.value)) return alert(\"Data needs to be positive numbers!\");\n            work.distance = +$c1ce9d969bfa6909$var$inputDistance.value;\n            work.duration = +$c1ce9d969bfa6909$var$inputDuration.value;\n            work.cadence = +$c1ce9d969bfa6909$var$inputCadence.value;\n            const calcPace = Math.trunc($c1ce9d969bfa6909$var$inputDuration.value / $c1ce9d969bfa6909$var$inputDistance.value);\n            work.pace = calcPace;\n            html.querySelector(\".cadence__value\").textContent = $c1ce9d969bfa6909$var$inputCadence.value;\n            html.querySelector(\".pace__value\").textContent = calcPace;\n        } else {\n            if (!isInputValid(+$c1ce9d969bfa6909$var$inputDistance.value, +$c1ce9d969bfa6909$var$inputDuration.value, +$c1ce9d969bfa6909$var$inputElevation.value) || !isPositive(+$c1ce9d969bfa6909$var$inputDistance.value, +$c1ce9d969bfa6909$var$inputDuration.value)) return alert(\"Data needs to be positive numbers!\");\n            work.distance = +$c1ce9d969bfa6909$var$inputDistance.value;\n            work.duration = +$c1ce9d969bfa6909$var$inputDuration.value;\n            work.elevationGain = +$c1ce9d969bfa6909$var$inputElevation.value;\n            const calcSpeed = Math.trunc($c1ce9d969bfa6909$var$inputDistance.value / ($c1ce9d969bfa6909$var$inputDuration.value / 60));\n            work.speed = calcSpeed;\n            html.querySelector(\".elevationGain__value\").textContent = $c1ce9d969bfa6909$var$inputElevation.value;\n            html.querySelector(\".speed__value\").textContent = calcSpeed;\n        }\n        this.#htmlContent[this.#index] = html.outerHTML;\n        $c1ce9d969bfa6909$var$workoutsList.innerHTML = \"\";\n        this.#htmlContent.slice().forEach((html)=>{\n            $c1ce9d969bfa6909$var$workoutsList.insertAdjacentHTML(\"afterbegin\", html);\n        });\n        this._hideForm();\n        this._toggleEditing(false);\n        this._indexDelegation();\n        this._setLocalStorage();\n    }\n    // Local storage\n    _setLocalStorage() {\n        localStorage.setItem(\"workouts\", JSON.stringify(this.#workouts));\n    }\n    _getLocalStorage() {\n        this.#data = JSON.parse(localStorage.getItem(\"workouts\"));\n        if (!this.#data) return;\n        this.#data.map((data)=>{\n            if (data.type === \"running\") Object.setPrototypeOf(data, $c1ce9d969bfa6909$var$Running.prototype);\n            if (data.type === \"cycling\") Object.setPrototypeOf(data, $c1ce9d969bfa6909$var$Cycling.prototype);\n        });\n        this.#workouts = this.#data;\n        console.log(this.#workouts);\n        this.#workouts.forEach((work)=>this._renderWorkout(work));\n    }\n    _showClearAll() {\n        this.#workouts.length >= 1 ? $c1ce9d969bfa6909$var$clearAll.classList.remove(\"clear__all--hidden\") : $c1ce9d969bfa6909$var$clearAll.classList.add(\"clear__all--hidden\");\n    }\n    // Clear local storage data\n    _clearWorkouts() {\n        localStorage.clear();\n        location.reload();\n    }\n}\nconst $c1ce9d969bfa6909$var$app = new $c1ce9d969bfa6909$var$App();\n\n\n//# sourceMappingURL=index.b1d8ea29.js.map\n","'use strict';\n\nclass Workout {\n  date = new Date();\n  id = (Date.now() + '').slice(-10);\n  constructor(coords, distance, duration) {\n    this.coords = coords; // [lat, lng]\n    this.distance = distance; // in km\n    this.duration = duration; // in min\n  }\n\n  _setDescription(type) {\n    // prettier-ignore\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n    this.description = `${type === 'running' ? 'üèÉ‚Äç‚ôÇÔ∏è' : 'üö¥‚Äç‚ôÄÔ∏è'} ${type[0].toUpperCase()}${type.slice(1)} on ${\n      months[this.date.getMonth()]\n    } ${this.date.getDate()}`;\n  }\n}\n\nclass Running extends Workout {\n  type = 'running';\n  constructor(coords, distance, duration, cadence) {\n    super(coords, distance, duration);\n    this.cadence = cadence;\n    this.calcPace();\n    this._setDescription(this.type);\n  }\n\n  calcPace() {\n    // min/km\n    this.pace = this.duration / this.distance;\n    return this.pace;\n  }\n}\n\nclass Cycling extends Workout {\n  type = 'cycling';\n  constructor(coords, distance, duration, elevationGain) {\n    super(coords, distance, duration);\n    this.elevationGain = elevationGain;\n    this.calcSpeed();\n    this._setDescription(this.type);\n  }\n\n  calcSpeed() {\n    // km/h\n    this.speed = this.distance / (this.duration / 60);\n    return this.speed;\n  }\n}\n\n////////////////////////////////////////////////////////////\nconst form = document.querySelector('.form');\nconst containerWorkouts = document.querySelector('.workouts');\nconst formInputs = document.querySelectorAll('.form__input');\nconst inputType = document.querySelector('.form__input--type');\nconst inputDistance = document.querySelector('.form__input--distance');\nconst inputDuration = document.querySelector('.form__input--duration');\nconst inputCadence = document.querySelector('.form__input--cadence');\nconst inputElevation = document.querySelector('.form__input--elevation');\nconst workoutsList = document.querySelector('.workouts__list');\nconst clearAll = document.querySelector('.clear__all');\n// const editBtn = document.querySelector('.edit__btn');\n\n// CHECKPOINT:\n// APPLICATION ARHITECTURE\nclass App {\n  #data;\n  #map;\n  #mapEvent;\n  #mapZoomLevel = 13;\n  #workouts = [];\n  #markers = [];\n  #htmlContent = [];\n  #isEditing = false;\n  #index;\n  constructor() {\n    this._getLocalStorage();\n\n    this._getPosition();\n    this._showClearAll();\n    form.addEventListener('submit', this._creatingNewWorkout.bind(this));\n    inputType.addEventListener('change', this._toggleElevationField);\n    containerWorkouts.addEventListener('click', this._moveToMap.bind(this));\n    workoutsList.addEventListener('click', this._deleteWorkout.bind(this));\n    workoutsList.addEventListener('click', this._editWorkout.bind(this));\n    clearAll.addEventListener('click', this._clearWorkouts.bind(this));\n\n    this._indexDelegation();\n\n    // document.querySelector('.show__all').addEventListener('click', this._showAllMarkers.bind(this));\n  }\n\n  // CHECKPOINT:\n\n  _getPosition() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(this._loadMap.bind(this), function () {\n        alert('Cannot acces your position!');\n      });\n    }\n  }\n\n  _indexDelegation() {\n    workoutsList.querySelectorAll('.edit__btn').forEach((btn, i) =>\n      btn.addEventListener(\n        'click',\n        function () {\n          // invert index\n          this.#index = Math.abs(i - (this.#htmlContent.length - 1));\n        }.bind(this)\n      )\n    );\n  }\n\n  _loadMap(position) {\n    const { latitude, longitude } = position.coords;\n    const coords = [latitude, longitude];\n\n    // Leaflet library\n    this.#map = L.map('map').setView(coords, 13);\n\n    L.tileLayer('https://tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    }).addTo(this.#map);\n\n    this.#map.on('click', this._showForm.bind(this));\n    this.#map.on('click', this._toggleEditing.bind(this, false));\n    this.#map.on('click', this._clearAllSelected);\n\n    this.#workouts.forEach(work => this._renderWorkoutMarker(work));\n  }\n\n  // _showAllMarkers() {\n  //   const bounds = new L.LatLngBounds();\n\n  //   bounds.extend(this.#markers.getLatLng());\n\n  //   this.#map.fitBounds(bounds);\n  // }\n\n  _showForm(mapE) {\n    this.#mapEvent = mapE;\n    form.classList.remove('hidden');\n    inputDistance.focus();\n  }\n\n  _hideForm() {\n    form.style.display = 'none';\n    form.classList.add('hidden');\n    inputDistance.value = inputDuration.value = inputCadence.value = inputElevation.value = '';\n\n    setTimeout(() => (form.style.display = 'grid'), 1000);\n  }\n\n  // Switching from running to cycling\n  _toggleElevationField() {\n    inputCadence.closest('.form__row').classList.toggle('form__row--hidden');\n    inputElevation.closest('.form__row').classList.toggle('form__row--hidden');\n  }\n\n  _clearAllSelected() {\n    document.querySelectorAll('.workout').forEach(work => {\n      work.classList.remove('editing__active');\n      work.classList.remove('selected__active');\n    });\n\n    inputType.value = 'running';\n    inputDistance.value = inputDuration.value = inputCadence.value = inputElevation.value = '';\n\n    inputCadence.closest('.form__row').classList.remove('form__row--hidden');\n    inputElevation.closest('.form__row').classList.add('form__row--hidden');\n  }\n\n  _toggleEditing(bool) {\n    this.#isEditing = bool;\n    inputType.disabled = bool;\n  }\n\n  _creatingNewWorkout(e) {\n    e.preventDefault();\n\n    if (!this.#isEditing) {\n      this._newWorkout();\n    } else {\n      this._editSubmit();\n    }\n  }\n\n  _newWorkout() {\n    // Check for form activity\n    if (form.classList.contains('hidden')) return;\n\n    const isInputValid = (...inputs) => inputs.every(inp => Number.isFinite(inp));\n    const isPositive = (...inputs) => inputs.every(inp => inp >= 1);\n\n    // Get data from input\n    const type = inputType.value;\n    const distance = +inputDistance.value;\n    const duration = +inputDuration.value;\n    const { lat, lng } = this.#mapEvent.latlng;\n    let workout;\n\n    // If type running, create running object\n    if (type === 'running') {\n      const cadence = +inputCadence.value;\n      // Check is data is valid\n      if (!isInputValid(distance, duration, cadence) || !isPositive(distance, duration, cadence))\n        return alert('Data needs to be positive numbers!');\n\n      workout = new Running([lat, lng], distance, duration, cadence);\n    }\n\n    // If type cycling, create cyclying object\n    if (type === 'cycling') {\n      const elevation = +inputElevation.value;\n      // Check is data is valid\n      if (!isInputValid(distance, duration, elevation) || !isPositive(distance, duration))\n        return alert('Data needs to be positive numbers!');\n\n      workout = new Cycling([lat, lng], distance, duration, elevation);\n    }\n\n    // Push workout to workouts array\n    this.#workouts.push(workout);\n\n    // Display marker on map\n    this._renderWorkoutMarker(workout);\n\n    // Display workout on list\n    this._renderWorkout(workout);\n\n    // Check for clear all\n    this._showClearAll();\n\n    // Data local storage\n    this._setLocalStorage();\n\n    // Clear form + input fields\n    this._hideForm();\n    console.log(this.#workouts);\n  }\n\n  // Show workout marker on map\n  _renderWorkoutMarker(workout) {\n    let mark = L.marker(workout.coords)\n      .addTo(this.#map)\n      .bindPopup(\n        L.popup({\n          maxWidth: 250,\n          minWidth: 100,\n          autoClose: false,\n          closeOnClick: false,\n          className: `${workout.type}-popup`,\n        })\n      )\n      .setPopupContent(workout.description)\n      .openPopup();\n    this.#markers.push(mark);\n  }\n\n  // Show workout on list after completing form\n  _renderWorkout(workout) {\n    let html = `\n    <li class=\"workout workout--${workout.type}\" data-id=\"${workout.id}\">\n    <span class=\"close__btn\">&times;</span>\n    <span class=\"edit__btn\">&#9998;</span>\n      <h2 class=\"workout__title\">${workout.description}</h2>\n        <div class=\"workout__details\">\n        \n          <span class=\"workout__icon\">${workout.type === 'running' ? 'üèÉ‚Äç‚ôÇÔ∏è' : 'üö¥‚Äç‚ôÄÔ∏è'}</span>\n          <span class=\"workout__value distance__value\">${workout.distance}</span>\n          <span class=\"workout__unit\">km</span>\n          \n        </div>\n        <div class=\"workout__details\">\n          <span class=\"workout__icon\">‚è±</span>\n          <span class=\"workout__value duration__value\">${workout.duration}</span>\n          <span class=\"workout__unit\">min</span>\n        </div>\n          `;\n\n    if (workout.type === 'running') {\n      html += `\n      <div class=\"workout__details\">\n        <span class=\"workout__icon\">ü¶∂üèº</span>\n        <span class=\"workout__value cadence__value\">${workout.cadence}</span>\n        <span class=\"workout__unit\">spm</span>\n      </div>\n      <div class=\"workout__details\">\n        <span class=\"workout__icon\">‚ö°Ô∏è</span>\n        <span class=\"workout__value pace__value\">${Math.trunc(workout.pace)}</span>\n        <span class=\"workout__unit\">min/km</span>\n      </div>\n    </li>\n      `;\n    }\n\n    if (workout.type === 'cycling') {\n      html += `\n      <div class=\"workout__details\">\n        <span class=\"workout__icon\">‚õ∞</span>\n        <span class=\"workout__value elevationGain__value\">${workout.elevationGain}</span>\n        <span class=\"workout__unit\">m</span>\n      </div>\n      <div class=\"workout__details\">\n        <span class=\"workout__icon\">‚ö°Ô∏è</span>\n        <span class=\"workout__value speed__value\">${Math.trunc(workout.speed)}</span>\n        <span class=\"workout__unit\">km/h</span>\n      </div>\n        \n    </li>\n      `;\n    }\n    this.#htmlContent.push(html);\n    workoutsList.insertAdjacentHTML('afterbegin', html);\n\n    this._indexDelegation();\n  }\n\n  // Move to map marker when clicking workout from list\n  _moveToMap(e) {\n    const workoutEl = e.target.closest('.workout');\n\n    // guard clause\n    if (!workoutEl || e.target.closest('.edit__btn')) return;\n\n    const workout = this.#workouts.find(work => work.id === workoutEl.dataset.id);\n\n    if (!workout) return;\n    this.#map.setView(workout.coords, this.#mapZoomLevel, {\n      animate: true,\n      pan: {\n        duration: 1,\n      },\n    });\n\n    // Clear form + input fields\n    this._hideForm();\n\n    // clear all workouts in editing and selected mode\n    this._clearAllSelected();\n    workoutEl.classList.add('selected__active');\n  }\n\n  // Delete workout by 'x' button\n  _deleteWorkout(e) {\n    const workoutEl = e.target.closest('.close__btn');\n\n    if (!workoutEl) return;\n\n    const workout = this.#workouts.find(work => work.id === workoutEl.closest('.workout').dataset.id);\n\n    if (!workout) return;\n\n    const index = this.#workouts.findIndex(work => work.id === workout.id);\n\n    // remove workout from list\n    this.#workouts.splice(index, 1);\n    this.#htmlContent.splice(index, 1);\n\n    workoutsList.innerHTML = '';\n\n    this.#htmlContent.slice().forEach(html => {\n      workoutsList.insertAdjacentHTML('afterbegin', html);\n    });\n\n    // remove marker from map and array\n    this.#map.removeLayer(this.#markers[index]);\n    this.#markers.splice(index, 1);\n\n    // Check for clear all\n    this._showClearAll();\n\n    // hide from\n    this._hideForm();\n\n    this._indexDelegation();\n\n    // remove from local storage\n    this._setLocalStorage();\n  }\n\n  // Edit existing workout on list\n  _editWorkout(e) {\n    const editEl = e.target.closest('.edit__btn');\n\n    if (!editEl) return;\n\n    // clear all workouts in editing mode\n    this._clearAllSelected();\n    const workout = e.target.closest('.workout');\n    workout.classList.add('editing__active');\n\n    this._showForm();\n\n    this._toggleEditing(true);\n\n    const content = this.#htmlContent[this.#index];\n    const parse = new DOMParser();\n    const html = parse.parseFromString(content, 'text/html').querySelector('.workout');\n\n    if (html.classList.contains('workout--running')) {\n      inputType.value = 'running';\n      inputDistance.value = this.#workouts[this.#index].distance;\n      inputDuration.value = this.#workouts[this.#index].duration;\n      inputCadence.value = this.#workouts[this.#index].cadence;\n      inputCadence.closest('.form__row').classList.remove('form__row--hidden');\n      inputElevation.closest('.form__row').classList.add('form__row--hidden');\n    } else {\n      inputType.value = 'cycling';\n      inputDistance.value = this.#workouts[this.#index].distance;\n      inputDuration.value = this.#workouts[this.#index].duration;\n      inputElevation.value = this.#workouts[this.#index].elevationGain;\n      inputCadence.closest('.form__row').classList.add('form__row--hidden');\n      inputElevation.closest('.form__row').classList.remove('form__row--hidden');\n    }\n  }\n\n  _editSubmit() {\n    const content = this.#htmlContent[this.#index];\n    const work = this.#workouts[this.#index];\n\n    // Convert text to html, for accesing data by class\n    const parse = new DOMParser();\n    const html = parse.parseFromString(content, 'text/html').querySelector('.workout');\n\n    const isInputValid = (...inputs) => inputs.every(inp => Number.isFinite(inp));\n    const isPositive = (...inputs) => inputs.every(inp => inp >= 1);\n\n    html.querySelector('.distance__value').textContent = inputDistance.value;\n    html.querySelector('.duration__value').textContent = inputDuration.value;\n\n    if (html.classList.contains('workout--running')) {\n      if (\n        !isInputValid(+inputDistance.value, +inputDuration.value, +inputCadence.value) ||\n        !isPositive(+inputDistance.value, +inputDuration.value, +inputCadence.value)\n      )\n        return alert('Data needs to be positive numbers!');\n      work.distance = +inputDistance.value;\n      work.duration = +inputDuration.value;\n      work.cadence = +inputCadence.value;\n      const calcPace = Math.trunc(inputDuration.value / inputDistance.value);\n      work.pace = calcPace;\n\n      html.querySelector('.cadence__value').textContent = inputCadence.value;\n      html.querySelector('.pace__value').textContent = calcPace;\n    } else {\n      if (\n        !isInputValid(+inputDistance.value, +inputDuration.value, +inputElevation.value) ||\n        !isPositive(+inputDistance.value, +inputDuration.value)\n      )\n        return alert('Data needs to be positive numbers!');\n      work.distance = +inputDistance.value;\n      work.duration = +inputDuration.value;\n      work.elevationGain = +inputElevation.value;\n      const calcSpeed = Math.trunc(inputDistance.value / (inputDuration.value / 60));\n      work.speed = calcSpeed;\n      html.querySelector('.elevationGain__value').textContent = inputElevation.value;\n      html.querySelector('.speed__value').textContent = calcSpeed;\n    }\n\n    this.#htmlContent[this.#index] = html.outerHTML;\n\n    workoutsList.innerHTML = '';\n    this.#htmlContent.slice().forEach(html => {\n      workoutsList.insertAdjacentHTML('afterbegin', html);\n    });\n\n    this._hideForm();\n\n    this._toggleEditing(false);\n\n    this._indexDelegation();\n\n    this._setLocalStorage();\n  }\n\n  // Local storage\n  _setLocalStorage() {\n    localStorage.setItem('workouts', JSON.stringify(this.#workouts));\n  }\n\n  _getLocalStorage() {\n    this.#data = JSON.parse(localStorage.getItem('workouts'));\n\n    if (!this.#data) return;\n\n    this.#data.map(data => {\n      if (data.type === 'running') Object.setPrototypeOf(data, Running.prototype);\n      if (data.type === 'cycling') Object.setPrototypeOf(data, Cycling.prototype);\n    });\n\n    this.#workouts = this.#data;\n    console.log(this.#workouts);\n\n    this.#workouts.forEach(work => this._renderWorkout(work));\n  }\n\n  _showClearAll() {\n    this.#workouts.length >= 1\n      ? clearAll.classList.remove('clear__all--hidden')\n      : clearAll.classList.add('clear__all--hidden');\n  }\n\n  // Clear local storage data\n  _clearWorkouts() {\n    localStorage.clear();\n    location.reload();\n  }\n}\n\nconst app = new App();\n"],"names":["$c1ce9d969bfa6909$var$Workout","date","Date","id","now","slice","constructor","coords","distance","duration","_setDescription","type","description","toUpperCase","months","getMonth","getDate","$c1ce9d969bfa6909$var$Running","cadence","calcPace","pace","$c1ce9d969bfa6909$var$Cycling","elevationGain","calcSpeed","speed","$c1ce9d969bfa6909$var$form","document","querySelector","$c1ce9d969bfa6909$var$containerWorkouts","querySelectorAll","$c1ce9d969bfa6909$var$inputType","$c1ce9d969bfa6909$var$inputDistance","$c1ce9d969bfa6909$var$inputDuration","$c1ce9d969bfa6909$var$inputCadence","$c1ce9d969bfa6909$var$inputElevation","$c1ce9d969bfa6909$var$workoutsList","$c1ce9d969bfa6909$var$clearAll","_getLocalStorage","_getPosition","_showClearAll","addEventListener","_creatingNewWorkout","bind","_toggleElevationField","_moveToMap","_deleteWorkout","_editWorkout","_clearWorkouts","_indexDelegation","navigator","geolocation","getCurrentPosition","_loadMap","alert","forEach","btn","i","Math","abs","length","position","latitude","longitude","L","map","setView","tileLayer","attribution","addTo","on","_showForm","_toggleEditing","_clearAllSelected","work","_renderWorkoutMarker","mapE","classList","remove","focus","_hideForm","style","display","add","value","setTimeout","closest","toggle","bool","disabled","e","preventDefault","_editSubmit","_newWorkout","workout","contains","isInputValid","inputs","every","inp","Number","isFinite","isPositive","lat","lng","latlng","elevation","push","_renderWorkout","_setLocalStorage","console","log","mark","marker","bindPopup","popup","maxWidth","minWidth","autoClose","closeOnClick","className","setPopupContent","openPopup","html","trunc","insertAdjacentHTML","workoutEl","target","find","dataset","animate","pan","index","findIndex","splice","innerHTML","removeLayer","content","parse","DOMParser","parseFromString","textContent","outerHTML","localStorage","setItem","JSON","stringify","getItem","data","Object","setPrototypeOf","prototype","clear","location","reload"],"version":3,"file":"index.b1d8ea29.js.map"}